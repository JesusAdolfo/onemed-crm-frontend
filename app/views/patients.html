<h3>
    Patients
    <small></small>
</h3>
<div class="row">
    <div class="panel panel-default">
        <div class="panel-heading">Actions |
            <small>for patients</small>
        </div>

        <div class="panel-body">

            <div class="row">
                <div class="col-xs-12 text-center">
                    <div class="row-fluid">
                        <div class="col-md-12 text-left mt">
                            <a ui-sref="app.newpat" class="btn btn-primary btn-lg onemed-blue-bg"> Add new patient &nbsp;<em class="icon-user-follow"></em></a>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>

<div class="row ng-scope" ng-controller="PatientsDataTableController as table">
    <div class="col-lg-3 col-sm-6"><!-- START widget-->
        <div class="panel widget onemed-green-bg">
            <div class="row row-table">
                <div class="col-xs-4 text-center onemed-dark-green-bg pv-lg"><em class="fa fa-folder-open-o fa-3x"></em>
                </div>
                <div class="col-xs-8 pv-lg">
                    <div class="h2 mt0">{{table.persons.count}}</div>
                    <div class="text-uppercase">Pacients</div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-3 col-sm-6"><!-- START widget-->
        <div class="panel widget onemed-gray-bg">
            <div class="row row-table">
                <div class="col-xs-4 text-center onemed-dark-gray-bg pv-lg"><em class="icon-note fa-3x"></em></div>
                <div class="col-xs-8 pv-lg">
                    <div class="h2 mt0"> {{ table.noteSum }}
                    </div>
                    <div class="text-uppercase"> Notes </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-3 col-md-6 col-sm-12"><!-- START widget-->
        <div class="panel widget onemed-blue-bg">
            <div class="row row-table">
                <div class="col-xs-4 text-center onemed-dark-blue-bg pv-lg"><em class="fa fa-calendar fa-3x" aria-hidden="true"></em></div>
                <div class="col-xs-8 pv-lg">
                    <div class="h2 mt0">{{ table.appointmentSum }}
                        <small style="color: white;">UPCOMING</small>
                    </div>
                    <div class="text-uppercase">Appointments</div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-3 col-md-6 col-sm-12"><!-- START date widget-->
        <div class="panel widget">
            <div class="row row-table">
                <div class="col-xs-4 text-center onemed-dark-green-bg pv-lg">
                    <!-- See formats: https://docs.angularjs.org/api/ng/filter/date-->
                    <now format="MMMM" class="text-sm">June</now>
                    <br>
                    <now format="d" class="h2 mt0">30</now>
                </div>
                <div class="col-xs-8 pv-lg">
                    <now format="EEEE" class="text-uppercase">Thursday</now>
                    <br>
                    <now format="h:mm" class="h2 mt0">11:25</now>
                    <now format="a" class="text-muted text-sm">AM</now>
                </div>
            </div>
        </div><!-- END date widget    --></div>
</div>


<div class="row">
    <!-- ngRepeat + ngResource-->
    <div class="panel panel-default">
        <div class="panel-heading">Doctors</div>
        <div class="panel-body">
            <div ng-controller="PatientsDataTableController as table1">
                <table datatable="ng" class="row-border hover">
                    <thead>
                    <tr>
                        <th>Ref #</th>
                        <th>Full name</th>
                        <th>Location</th>
                        <th>Phone</th>
                        <th>Email</th>
                        <th>Prescriber</th>
                        <th>Actions</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="person in table1.persons">
                        <td>{{ person.date | date:'yyyyMMdd' }} - {{ person.birth | date:'yyyyMMdd'}} </td>
                        <td>{{ person.name }} {{ person.middle }} {{ person.lastname }}</td>
                        <td> {{person.city}}, {{ person.state }} </td>
                        <td> {{person.phone}} </td>
                        <td> {{person.email}} </td>
                        <td> {{person.prescriberName}} </td>
                        <td>
                            <div >
                                <button type="button" ui-sref="app.expandpat({id: person._id})" class="btn btn-sm btn-info">
                                    <em class="fa fa-expand"></em>
                                </button>
                                <button type="button" ui-sref="app.modpat({id: person._id})" class="btn btn-sm btn-warning">
                                    <em class="fa fa-edit"></em>
                                </button>
                                <button type="button" ng-click="table1.delete(person._id, $index)" class="btn btn-sm btn-danger">
                                    <em class="fa fa-trash-o"></em>
                                </button>
                            </div>

                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
